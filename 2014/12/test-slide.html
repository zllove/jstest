<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>练习31--模拟select控件</title>
</head>
<style type="text/css">
    *{ margin:0; padding:0; }
    body{ background:#23384E; }
    /*ul*/
    .list{ margin-left:25px; height:0; overflow:hidden;}
    ul{ list-style:none; width:125px; text-indent:15px; background:#000; border:1px solid #fff; border-top:none; }
    ul li{ color:#fff; border-bottom:1px dotted #ccc; line-height:25px; font-size:12px; font-family:"microsoft yahei", "微软雅黑"; letter-spacing:1.1px;
        cursor:pointer; transition:0.3s all ease-in-out 0s; /*display:none;*/ }
    ul li:hover{ color:#000; background:#eee; border-bottom:1px dotted #000; }
    /*div*/
    .wrap{ margin:200px; width:300px; height:25px; background-image:linear-gradient(#ccc, #999, #333); }
    .wrap img{ float:left; box-shadow:0 0 1px #fff; }
    span{ font-size:13px; color:#000; float:left; width:150px; height:20px; background:#999; border-radius:2px; cursor:pointer; position:relative;
        line-height:25px; text-indent:5px; }
    span:before{ content:""; border-width:7px; border-style:solid; border-color:#f00 transparent transparent transparent;
        position:absolute; right:5px; top:8px; }
    button{ width:40px; cursor:pointer; }
</style>
<body>
<div class="wrap">
    <img src="images/Search.png" height="20"><span>请选择游戏名称</span>
    <button type="button">搜索</button>
    <div id="list" class="list">
        <ul>
            <li>地下城与勇士</li>
            <li>魔兽世界（国服）</li>
            <li>魔兽世界（台服）</li>
            <li>热血江湖</li>
            <li>神鬼传奇</li>
            <li>大话西游II</li>
            <li>QQ幻想世界</li>
        </ul>
    </div>
</div>
</body>
<script src="http://www.loveopp.com/myQuery.js"></script>
<script>
    window.onload = function(){
        var oBtn = document.getElementsByTagName("span")[0];
        var list = document.getElementById('list');
        var oUl = document.getElementsByTagName("ul")[0];
        var oLi = oUl.getElementsByTagName("li");
        noSelect(document);
        noConTextMenu(document);
        var flag = 1;
        oBtn.onclick = function(){
            if(!flag){
                flag = 1;
                for(var m = 0; m < oLi.length; m++){
//                    oLi[m].style.display = "none";
                }
                startMove(list, {height : 0}, 5);
                console.log(flag)
            } else {
                /*
                 oUl.style.display="block";
                 var iHeight=oLi.length*oLi[0].offsetHeight;
                 */
                list.style.height = '0';
                startMove(list, {height : 183}, 5, function(){
                    for(var m = 0; m < oLi.length; m++){
//                        oLi[m].style.display = "block";
                    }
                });

                flag = 0;
                console.log(flag)
            }
        }
        for(var m = 0; m < oLi.length; m++){
            oLi[m].onclick = function(){
                oBtn.innerHTML = this.innerHTML;
                for(var m = 0; m < oLi.length; m++){
//                    oLi[m].style.display = "none";
                }
                startMove(list, {height : 0}, 5);
                flag = 1;
            }
        }
    }
</script>
</html>