<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>dragline</title>
    <style type="text/css">
        *{ margin:0; padding:0;  }
        .w{ width:100%; clear:both; overflow:hidden;}
        .e{position: relative;}
        .f{position: absolute;top: 0;left: 0;width: 200px;height: 500px;border:1px solid blue;}
        .g{margin-left: 210px;border:1px solid orange;height: 500px;}
        .m{ position:absolute;top: 0; left:202px; width:8px;height: 500px;background: #f1f1f1;cursor: e-resize;}
    </style>
    <script type="text/javascript" src="../jquery-1.8.3.min.js"></script>
    <!--<script type="text/javascript" src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.js"></script>-->
</head>
<body>
<div class="e">
    <div class="f" id="side">left</div>
    <div class="m" id="bar"></div>
    <div class="g" id="main"></div>
</div>
<script>
    (function(){
        var side = $('#side');
        var bar = $('#bar');
        var main = $('#main');

        bar.on('mousedown', function(e){
            var startX = e.pageX - parseInt(bar.css('left'));
            $(document).on('mousemove', function(e){
                var endX = e.pageX - startX;
                bar.css({ left : endX });
                side.css({ width : endX - 2 });
                main.css({ marginLeft : endX + 8 });
            });
            $(document).on('mouseup', function(){
                $(document).off('mousemove');
                $(document).off('mouseup');
            });
        });
    }());
</script>
</body>
</html>